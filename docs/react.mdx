---
title: "React"
---
Follow these steps to get started with ReactJS.

1.  Set up the workspace by running the following command:
    
    ```shell shell
    npx create-react-app livenesstest
    
    ```
    
    A folder/directory named `livenesstest` should appear and the folder/ directory structure should look like this:
    
    ```directory structure directory structure
    livenesstest/
        |
        +-- node_modules/
        |
        +-- public/
        |    |
        |    +-- favicon.ico
        |    |
        |    +-- index.html
        |    |
        |    +-- logo192.png
        |    |
        |    +-- logo512.png
        |    |
        |    +-- manifest.json
        |    |
        |    \-- robots.txt
        |
        +-- src/
        |    |
        |    +-- App.css
        |    |
        |    +-- App.js
        |    |
        |    +-- App.test.js
        |    |
        |    +-- index.css
        |    |
        |    +-- index.js
        |    |
        |    +-- logo.svg
        |    |
        |    +-- reportWebVitals.js
        |    |
        |    \-- setupTests.js
        |
        +-- .gitignore
        |
        +-- package-lock.json
        |
        +-- package.json
        |
        \-- README.md
    
    ```
    
2.  Put the `liveness` folder/directory that contains the liveness engine and builders like `builder.js`, into the `public` folder/directory.
    
3.  Add the liveness package to `package.json` by running this command in the `livenesstest` react.js project.
    
    ```shell shell
    npm i file:public/liveness
    
    ```
    
    This will add `@verihubs/liveness` dependency in `package.json`.
    
4.  Add an import to `index.js` file inside `src` folder.
    
    ```src/index.js src/index.js
    import Builder from '@verihubs/liveness';
    
    ```
    
5.  Add the following code to the `index.js` file inside `src` folder.
    
    ```src/index.js src/index.js
    window.LivenessSDK = new Builder()
        .setCredential({
            clientId: 'YOUR_CLIENT_ID',
            secret: 'YOUR_SECRET',
        })
        .setInstruction(['look_left', 'look_right'], {
            commands: ['open_mouth'],
            seedLimit: 1,
        })
        .setProxyMiddleware({
            PassiveLiveness: {
                url: 'http://localhost:8888/liveness/face',
                headers: {
                    'App-ID': '<replace-me-with-app-id>',
                    'API-Key': '<replace-me-with-api-key>',
                },
            },
            License: {
                url: 'http://localhost:8888/license/{license_id}/check',
                headers: {
                    'App-ID': '<replace-me-with-app-id>',
                    'API-Key': '<replace-me-with-api-key>',
                },
            },
        })
        .setTimeout(60000)
        .setURL('./liveness')
        .setVirtualCameraLabel(['OBS', 'Virtual'])
        .build();
    
    ```
    
    Replace proxy middleware URLs with a URL that points to the correct endoints, and replace `<replace-me-with-app-id>` and `<replace-me-with-api-key>` with the appropriate APP-ID and APIKey for the passive liveness (remove the headers if the api doesn't need credentials or the url is pointing towards an intermediate endpoint).
    
    <Warning>
    
    ## Look Out!
    
    To not accidentally leak of `AppID` and `APIKey` for passive liveness, always pass them to an intermediate endpoint (like a proxy middleware) and append the `AppID` and `APIKey` header before reaching Verihubs' passive liveness service in production. Additional data can also be passed to this intermediate endpoint for end user identification.
    
    For more information about creating a Proxy Middleware, refer to [Proxy Middleware](/docs/fastapi)
    .
    
    For API documentation of the Builder, refer to [`Builder`](/docs/builder)
    .
    
    </Warning>
6.  Add import for `React` in `App.js`.
    
    ```src/app.js src/app.js
    import React from 'react';
    
    ```
    
7.  Populate the `App` component logic by the code below:
    
    ```src/app.js src/app.js
    function App() {
        const [image, setImage] = React.useState('');
        const [data, setData] = React.useState('');
    
        React.useEffect(() => {
            const livenessMessageListener = ({ data: { data, subject } }) => {
                switch (subject) {
                case 'Verification.Verbose':
                    console.log('[Verbose]', data);
                    break;
        
                case 'Camera.NotAllowed':
                case 'Camera.NotFound':
                case 'Camera.PermissionDenied':
                case 'ScreenOrientation.NotAllowed':
                case 'Verification.Disrupted':
                case 'Verification.Timeout':
                    console.log({ data, subject });
                    alert(subject);
                    global.LivenessSDK.onDestroy();
                    break;
        
                case 'Verification.Success':
                    setTimeout(function () {
                        setImage(`data:image/png;base64,${data.image.url}`);
                        setData(JSON.stringify(data, undefined, 2));
                        global.LivenessSDK.onDestroy();
                    }, 1500);
                    break;
        
                default:
                    console.log({ data, subject });
                    alert(subject);
                    break;
                }
            };
            window.addEventListener('message', livenessMessageListener);
        
            return () => {
                window.removeEventListener('message', livenessMessageListener);
            };
        }, []);
    
        const doLivenessVerification = React.useCallback(() => {
            window.LivenessSDK.onStart();
        }, []);
    
        return (
    
    ```
    
    <Info>
    
    ## Info
    
    Check [System Messages](/docs/system-messages)
     for full system message references.
    
    </Info>
8.  Replace the jsx component inside `App.js` with the code below:
    
    ```src/index.js src/index.js
        return (
        <div>
            <button onClick={doLivenessVerification}>
            Run Liveness Verification
            </button>
            
            <img src={image} alt="" />
            <div className="data-result">{data}</div>
        </div>
        );
    
    ```
    
9.  Replace the whole content of `App.css` with the code below:
    
    ```src/app.css src/app.css
    .data-result {
        font-family: 'Courier New', Courier, monospace;
        white-space: pre-wrap;
        background-color: #0002;
        overflow: auto;
    }
    
    ```
    

To try the above implementation you can run the following command from the `liveness` project:

```shell shell
npm run dev

```